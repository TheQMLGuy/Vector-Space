<div class="section-header">
    <span class="section-icon">ğŸ“Š</span>
    <h1 class="section-title">Matrix Lab</h1>
    <span class="badge badge-cyan">Interactive</span>
</div>

<div class="grid grid-2 gap-lg">
    <!-- Matrix A Input -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">ğŸ“ Matrix A</h2>
            <div class="flex gap-sm">
                <button class="btn btn-sm btn-secondary" id="btn-matrix-a-clear">Clear</button>
                <button class="btn btn-sm btn-secondary" id="btn-matrix-a-random">Random</button>
            </div>
        </div>

        <div class="grid grid-2 gap-md">
            <div class="input-group">
                <label class="input-label">Rows</label>
                <input type="number" class="input input-mono" id="matrix-a-rows" value="3" min="1" max="10">
            </div>
            <div class="input-group">
                <label class="input-label">Columns</label>
                <input type="number" class="input input-mono" id="matrix-a-cols" value="3" min="1" max="10">
            </div>
        </div>

        <div class="matrix-grid" id="matrix-a-grid"></div>
    </div>

    <!-- Matrix B Input -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">ğŸ“ Matrix B</h2>
            <div class="flex gap-sm">
                <button class="btn btn-sm btn-secondary" id="btn-matrix-b-clear">Clear</button>
                <button class="btn btn-sm btn-secondary" id="btn-matrix-b-random">Random</button>
            </div>
        </div>

        <div class="grid grid-2 gap-md">
            <div class="input-group">
                <label class="input-label">Rows</label>
                <input type="number" class="input input-mono" id="matrix-b-rows" value="3" min="1" max="10">
            </div>
            <div class="input-group">
                <label class="input-label">Columns</label>
                <input type="number" class="input input-mono" id="matrix-b-cols" value="3" min="1" max="10">
            </div>
        </div>

        <div class="matrix-grid" id="matrix-b-grid"></div>
    </div>
</div>

<!-- Matrix Operations -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">âš™ï¸ Matrix Operations</h2>
        <span class="badge badge-magenta">Compute</span>
    </div>

    <div class="operations-grid">
        <!-- Basic Operations -->
        <div class="operations-section">
            <h3 class="operations-title">Basic Operations</h3>
            <div class="btn-grid">
                <button class="btn btn-secondary operation-btn" data-op="add" title="A + B">A + B</button>
                <button class="btn btn-secondary operation-btn" data-op="subtract" title="A - B">A - B</button>
                <button class="btn btn-secondary operation-btn" data-op="multiply" title="A Ã— B">A Ã— B</button>
                <button class="btn btn-secondary operation-btn" data-op="scalar" title="Scalar multiply">k Ã— A</button>
            </div>
        </div>

        <!-- Single Matrix Operations -->
        <div class="operations-section">
            <h3 class="operations-title">Single Matrix (A)</h3>
            <div class="btn-grid">
                <button class="btn btn-secondary operation-btn" data-op="transpose" title="Transpose">Aáµ€</button>
                <button class="btn btn-secondary operation-btn" data-op="inverse" title="Inverse">Aâ»Â¹</button>
                <button class="btn btn-secondary operation-btn" data-op="determinant"
                    title="Determinant">det(A)</button>
                <button class="btn btn-secondary operation-btn" data-op="trace" title="Trace">tr(A)</button>
                <button class="btn btn-secondary operation-btn" data-op="rank" title="Rank">rank(A)</button>
                <button class="btn btn-secondary operation-btn" data-op="power" title="Matrix Power">Aâ¿</button>
            </div>
        </div>

        <!-- Advanced Operations -->
        <div class="operations-section">
            <h3 class="operations-title">Decompositions</h3>
            <div class="btn-grid">
                <button class="btn btn-secondary operation-btn" data-op="lu" title="LU Decomposition">LU</button>
                <button class="btn btn-secondary operation-btn" data-op="qr" title="QR Decomposition">QR</button>
                <button class="btn btn-secondary operation-btn" data-op="eigen" title="Eigenvalues">Eigen</button>
                <button class="btn btn-secondary operation-btn" data-op="svd"
                    title="Singular Value Decomposition">SVD</button>
            </div>
        </div>

        <!-- Derived Matrices -->
        <div class="operations-section">
            <h3 class="operations-title">Derived Matrices</h3>
            <div class="btn-grid">
                <button class="btn btn-secondary operation-btn" data-op="cofactor"
                    title="Cofactor Matrix">Cofactor</button>
                <button class="btn btn-secondary operation-btn" data-op="adjugate"
                    title="Adjugate Matrix">Adjugate</button>
                <button class="btn btn-secondary operation-btn" data-op="rref"
                    title="Row Reduced Echelon Form">RREF</button>
                <button class="btn btn-secondary operation-btn" data-op="nullspace" title="Null Space">Null
                    Space</button>
            </div>
        </div>
    </div>

    <!-- Scalar Input -->
    <div class="input-group" id="scalar-input-group" style="display: none; margin-top: 16px; max-width: 200px;">
        <label class="input-label">Scalar Value (k)</label>
        <input type="number" class="input input-mono" id="scalar-value" value="2">
    </div>

    <!-- Power Input -->
    <div class="input-group" id="power-input-group" style="display: none; margin-top: 16px; max-width: 200px;">
        <label class="input-label">Power (n)</label>
        <input type="number" class="input input-mono" id="power-value" value="2" min="1" max="10">
    </div>
</div>

<!-- Results Display -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">ğŸ“‹ Results</h2>
        <div class="flex gap-sm">
            <button class="btn btn-sm btn-secondary" id="btn-copy-result">Copy</button>
            <button class="btn btn-sm btn-secondary" id="btn-export-csv">Export CSV</button>
        </div>
    </div>

    <div id="results-container">
        <div class="empty-state">
            <div class="empty-state-icon">ğŸ§®</div>
            <p class="empty-state-text">Select an operation to see results</p>
        </div>
    </div>
</div>

<!-- Data Hub Integration -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">ğŸ”„ Data Hub</h2>
        <span class="badge badge-purple">Cross-Tab</span>
    </div>
    <div class="grid grid-2 gap-lg">
        <div>
            <label class="input-label">Export to Hub</label>
            <div class="hub-actions">
                <button class="export-btn" id="hub-export-matrix-a">ğŸ“Š Matrix A</button>
                <button class="export-btn" id="hub-export-matrix-b">ğŸ“Š Matrix B</button>
                <button class="export-btn" id="hub-export-eigen">ğŸŒ€ Eigenvalues</button>
                <button class="export-btn" id="hub-export-result">ğŸ“‹ Last Result</button>
            </div>
        </div>
        <div>
            <label class="input-label">Import from Hub</label>
            <div class="hub-actions">
                <button class="import-btn" id="hub-import-to-a">â†’ Import to Matrix A</button>
                <button class="import-btn" id="hub-import-to-b">â†’ Import to Matrix B</button>
            </div>
            <p style="font-size: 11px; color: var(--text-muted); margin-top: 8px;">
                Import weight matrices from Neural Net, or quantum gates from Quantum tab
            </p>
        </div>
    </div>
</div>

<!-- Matrix Analysis -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">ğŸ“Š Matrix Analysis</h2>
        <button class="btn btn-sm btn-primary" id="btn-analyze">Analyze Matrix A</button>
    </div>

    <div id="analysis-container">
        <div class="empty-state">
            <div class="empty-state-icon">ğŸ”</div>
            <p class="empty-state-text">Click "Analyze" to see matrix properties</p>
        </div>
    </div>
</div>

<!-- Linear System Solver -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">ğŸ”¢ Linear System Solver (Ax = b)</h2>
        <span class="badge badge-green">Solve</span>
    </div>

    <div class="grid grid-3 gap-md">
        <div class="input-group" style="grid-column: span 2;">
            <label class="input-label">Vector b (comma separated)</label>
            <input type="text" class="input input-mono" id="vector-b" placeholder="e.g., 1, 2, 3">
        </div>
        <div class="input-group" style="align-self: flex-end;">
            <button class="btn btn-primary" id="btn-solve-system" style="width: 100%;">Solve System</button>
        </div>
    </div>

    <div id="system-results" style="margin-top: 16px;">
        <div class="empty-state">
            <div class="empty-state-icon">ğŸ“</div>
            <p class="empty-state-text">Enter vector b and click "Solve" to find x</p>
        </div>
    </div>
</div>

<!-- Special Matrices Generator -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">ğŸ¯ Special Matrices Generator</h2>
    </div>

    <div class="grid grid-4 gap-md">
        <div class="input-group">
            <label class="input-label">Size (n)</label>
            <input type="number" class="input input-mono" id="special-size" value="3" min="1" max="10">
        </div>
        <button class="btn btn-secondary special-btn" data-type="identity">Identity</button>
        <button class="btn btn-secondary special-btn" data-type="zeros">Zeros</button>
        <button class="btn btn-secondary special-btn" data-type="ones">Ones</button>
    </div>

    <div class="grid grid-4 gap-md" style="margin-top: 12px;">
        <button class="btn btn-secondary special-btn" data-type="diagonal">Diagonal</button>
        <button class="btn btn-secondary special-btn" data-type="hilbert">Hilbert</button>
        <button class="btn btn-secondary special-btn" data-type="pascal">Pascal</button>
        <button class="btn btn-secondary special-btn" data-type="toeplitz">Toeplitz</button>
    </div>
</div>

<!-- Matrix Visualization -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">ğŸ¨ Matrix Visualization</h2>
        <div class="flex gap-sm">
            <button class="btn btn-sm btn-secondary viz-btn active" data-viz="heatmap">Heatmap</button>
            <button class="btn btn-sm btn-secondary viz-btn" data-viz="3d">3D Surface</button>
        </div>
    </div>

    <div id="visualization-container" style="min-height: 400px;"></div>
</div>
</div>