<div class="section-header">
    <span class="section-icon">üåÄ</span>
    <h1 class="section-title">Complex Numbers Lab</h1>
    <span class="badge badge-magenta">Interactive</span>
</div>

<div class="grid grid-2 gap-lg">
    <!-- Complex Number Input & Visualization -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">üìç Complex Number Visualizer</h2>
            <button class="btn btn-sm btn-secondary" id="btn-complex-reset">Reset</button>
        </div>

        <div class="complex-input-modes">
            <button class="tab-btn active" data-mode="rectangular">Rectangular (a + bi)</button>
            <button class="tab-btn" data-mode="polar">Polar (r‚à†Œ∏)</button>
        </div>

        <!-- Rectangular Input -->
        <div id="rectangular-input" class="complex-input-section">
            <div class="grid grid-2 gap-md">
                <div class="input-group">
                    <label class="input-label">Real Part (a)</label>
                    <input type="number" class="input input-mono" id="complex-real" value="3" placeholder="Real">
                </div>
                <div class="input-group">
                    <label class="input-label">Imaginary Part (b)</label>
                    <input type="number" class="input input-mono" id="complex-imag" value="4" placeholder="Imaginary">
                </div>
            </div>
        </div>

        <!-- Polar Input -->
        <div id="polar-input" class="complex-input-section" style="display: none;">
            <div class="grid grid-2 gap-md">
                <div class="input-group">
                    <label class="input-label">Magnitude (r)</label>
                    <input type="number" class="input input-mono" id="complex-mag" value="5" placeholder="Magnitude">
                </div>
                <div class="input-group">
                    <label class="input-label">Angle Œ∏ (degrees)</label>
                    <input type="number" class="input input-mono" id="complex-angle" value="53.13"
                        placeholder="Degrees">
                </div>
            </div>
        </div>

        <button class="btn btn-primary" id="btn-visualize" style="width: 100%; margin-top: 12px;">
            Visualize & Analyze
        </button>

        <!-- Argand Diagram / Complex Plane -->
        <div id="complex-plane" class="complex-plane-container"></div>

        <div class="complex-info-grid">
            <div class="complex-info-item">
                <span class="info-label">Rectangular</span>
                <span class="info-value" id="info-rectangular">3 + 4i</span>
            </div>
            <div class="complex-info-item">
                <span class="info-label">Polar</span>
                <span class="info-value" id="info-polar">5‚à†53.13¬∞</span>
            </div>
            <div class="complex-info-item">
                <span class="info-label">Exponential</span>
                <span class="info-value" id="info-exponential">5e^(0.927i)</span>
            </div>
            <div class="complex-info-item">
                <span class="info-label">Conjugate</span>
                <span class="info-value" id="info-conjugate">3 - 4i</span>
            </div>
        </div>
    </div>

    <!-- Operations -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">üî¢ Operations</h2>
            <span class="badge badge-cyan">Two Numbers</span>
        </div>

        <div class="operation-inputs">
            <div class="complex-number-box z1-box">
                <div class="number-label">z‚ÇÅ</div>
                <div class="grid grid-2 gap-sm">
                    <div class="input-group">
                        <label class="input-label">Real</label>
                        <input type="number" class="input input-mono" id="z1-real" value="3" placeholder="a">
                    </div>
                    <div class="input-group">
                        <label class="input-label">Imaginary</label>
                        <input type="number" class="input input-mono" id="z1-imag" value="4" placeholder="b">
                    </div>
                </div>
            </div>

            <div class="operation-selector">
                <button class="op-btn active" data-op="add" title="Addition">+</button>
                <button class="op-btn" data-op="subtract" title="Subtraction">‚àí</button>
                <button class="op-btn" data-op="multiply" title="Multiplication">√ó</button>
                <button class="op-btn" data-op="divide" title="Division">√∑</button>
            </div>

            <div class="complex-number-box z2-box">
                <div class="number-label">z‚ÇÇ</div>
                <div class="grid grid-2 gap-sm">
                    <div class="input-group">
                        <label class="input-label">Real</label>
                        <input type="number" class="input input-mono" id="z2-real" value="1" placeholder="a">
                    </div>
                    <div class="input-group">
                        <label class="input-label">Imaginary</label>
                        <input type="number" class="input input-mono" id="z2-imag" value="2" placeholder="b">
                    </div>
                </div>
            </div>
        </div>

        <button class="btn btn-primary" id="btn-calculate-op" style="width: 100%; margin-top: 16px;">
            Calculate
        </button>

        <div class="result-box operation-result" style="margin-top: 16px;">
            <div class="result-label">Result</div>
            <div class="result-value" id="op-result">4 + 6i</div>
            <div class="result-details">
                <span id="op-magnitude">|z| = 7.21</span>
                <span id="op-angle">Œ∏ = 56.31¬∞</span>
            </div>
        </div>

        <div id="operation-visual" class="operation-visual-container"></div>
    </div>
</div>

<!-- Advanced Operations -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">‚ö° Advanced Operations</h2>
        <span class="badge badge-yellow">Single Number</span>
    </div>

    <div class="grid grid-2 gap-md">
        <div class="input-group">
            <label class="input-label">Real Part</label>
            <input type="number" class="input input-mono" id="adv-real" value="1" placeholder="Real">
        </div>
        <div class="input-group">
            <label class="input-label">Imaginary Part</label>
            <input type="number" class="input input-mono" id="adv-imag" value="1" placeholder="Imaginary">
        </div>
    </div>

    <div class="advanced-operations-grid">
        <button class="adv-op-btn" data-op="sqrt" title="Square Root">‚àöz</button>
        <button class="adv-op-btn" data-op="square" title="Square">z¬≤</button>
        <button class="adv-op-btn" data-op="cube" title="Cube">z¬≥</button>
        <button class="adv-op-btn" data-op="reciprocal" title="Reciprocal">1/z</button>
        <button class="adv-op-btn" data-op="exp" title="Exponential">e·∂ª</button>
        <button class="adv-op-btn" data-op="ln" title="Natural Log">ln(z)</button>
        <button class="adv-op-btn" data-op="sin" title="Sine">sin(z)</button>
        <button class="adv-op-btn" data-op="cos" title="Cosine">cos(z)</button>
    </div>

    <div class="grid grid-2 gap-lg" style="margin-top: 16px;">
        <div class="result-box" style="text-align: center;">
            <div class="result-label">Result (Rectangular)</div>
            <div class="result-value" id="adv-result-rect">-</div>
        </div>
        <div class="result-box" style="text-align: center;">
            <div class="result-label">Result (Polar)</div>
            <div class="result-value" id="adv-result-polar">-</div>
        </div>
    </div>
</div>

<!-- Roots of Unity & Powers -->
<div class="grid grid-2 gap-lg" style="margin-top: 24px;">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">üåü Roots of Unity</h2>
        </div>

        <div class="grid grid-2 gap-md">
            <div class="input-group">
                <label class="input-label">n (nth roots)</label>
                <input type="number" class="input input-mono" id="roots-n" value="5" min="2" max="12" placeholder="n">
            </div>
            <div class="input-group">
                <label class="input-label">Of Number</label>
                <select class="select" id="roots-of">
                    <option value="unity">1 (Unity)</option>
                    <option value="custom">Custom</option>
                </select>
            </div>
        </div>

        <div id="custom-root-input" class="grid grid-2 gap-md" style="display: none; margin-top: 12px;">
            <div class="input-group">
                <label class="input-label">Real</label>
                <input type="number" class="input input-mono" id="root-real" value="1" placeholder="Real">
            </div>
            <div class="input-group">
                <label class="input-label">Imaginary</label>
                <input type="number" class="input input-mono" id="root-imag" value="0" placeholder="Imaginary">
            </div>
        </div>

        <button class="btn btn-primary" id="btn-calc-roots" style="width: 100%; margin-top: 12px;">
            Calculate Roots
        </button>

        <div id="roots-visual" class="roots-visual-container"></div>

        <div id="roots-list" class="roots-list"></div>
    </div>

    <div class="card">
        <div class="card-header">
            <h2 class="card-title">üìê Powers & De Moivre's Theorem</h2>
        </div>

        <div class="grid grid-3 gap-md">
            <div class="input-group">
                <label class="input-label">Real</label>
                <input type="number" class="input input-mono" id="power-real" value="1" placeholder="Real">
            </div>
            <div class="input-group">
                <label class="input-label">Imaginary</label>
                <input type="number" class="input input-mono" id="power-imag" value="1" placeholder="Imaginary">
            </div>
            <div class="input-group">
                <label class="input-label">Power (n)</label>
                <input type="number" class="input input-mono" id="power-n" value="4" placeholder="n">
            </div>
        </div>

        <button class="btn btn-primary" id="btn-calc-power" style="width: 100%; margin-top: 12px;">
            Calculate z‚Åø
        </button>

        <div class="de-moivre-formula">
            <div class="formula-title">De Moivre's Theorem</div>
            <div class="formula-content">(cos Œ∏ + i sin Œ∏)‚Åø = cos(nŒ∏) + i sin(nŒ∏)</div>
        </div>

        <div class="result-box" style="margin-top: 16px; text-align: center;">
            <div class="result-label">z‚Åø Result</div>
            <div class="result-value" id="power-result">-</div>
        </div>

        <div id="power-visual" class="power-visual-container"></div>
    </div>
</div>

<!-- Euler's Identity & Special Numbers -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">‚ú® Special Complex Numbers & Identities</h2>
    </div>

    <div class="special-numbers-grid">
        <div class="special-number-card euler">
            <div class="special-title">Euler's Identity</div>
            <div class="special-formula">e^(iœÄ) + 1 = 0</div>
            <div class="special-desc">The most beautiful equation in mathematics</div>
        </div>
        <div class="special-number-card">
            <div class="special-title">Imaginary Unit</div>
            <div class="special-formula">i¬≤ = -1</div>
            <div class="special-desc">‚àö(-1) = i</div>
        </div>
        <div class="special-number-card">
            <div class="special-title">Euler's Formula</div>
            <div class="special-formula">e^(iŒ∏) = cos Œ∏ + i sin Œ∏</div>
            <div class="special-desc">Bridge between exponential and trigonometric</div>
        </div>
        <div class="special-number-card">
            <div class="special-title">Complex Conjugate</div>
            <div class="special-formula">z ¬∑ zÃÑ = |z|¬≤</div>
            <div class="special-desc">Product equals magnitude squared</div>
        </div>
    </div>
</div>

<!-- Interactive Complex Function Plotter -->
<div class="card" style="margin-top: 24px;">
    <div class="card-header">
        <h2 class="card-title">üé® Complex Function Domain Coloring</h2>
        <span class="badge badge-green">Visualization</span>
    </div>

    <div class="grid grid-4 gap-md">
        <div class="input-group">
            <label class="input-label">Function f(z)</label>
            <select class="select" id="func-select">
                <option value="z">z (Identity)</option>
                <option value="z^2">z¬≤</option>
                <option value="z^3">z¬≥</option>
                <option value="1/z">1/z</option>
                <option value="sqrt(z)">‚àöz</option>
                <option value="exp(z)">e·∂ª</option>
                <option value="sin(z)">sin(z)</option>
                <option value="cos(z)">cos(z)</option>
            </select>
        </div>
        <div class="input-group">
            <label class="input-label">X Range</label>
            <input type="number" class="input input-mono" id="plot-x-range" value="3" min="1" max="10">
        </div>
        <div class="input-group">
            <label class="input-label">Y Range</label>
            <input type="number" class="input input-mono" id="plot-y-range" value="3" min="1" max="10">
        </div>
        <div class="input-group">
            <label class="input-label">Resolution</label>
            <select class="select" id="plot-resolution">
                <option value="100">Low (100√ó100)</option>
                <option value="200" selected>Medium (200√ó200)</option>
                <option value="400">High (400√ó400)</option>
            </select>
        </div>
    </div>

    <button class="btn btn-primary" id="btn-plot-function" style="width: 100%; margin-top: 12px;">
        Generate Domain Coloring
    </button>

    <div id="domain-coloring" class="domain-coloring-container">
        <canvas id="domain-canvas" width="400" height="400"></canvas>
    </div>

    <div class="color-legend">
        <div class="legend-title">Color Legend (Argument/Phase)</div>
        <div class="legend-bar"></div>
        <div class="legend-labels">
            <span>-œÄ</span>
            <span>-œÄ/2</span>
            <span>0</span>
            <span>œÄ/2</span>
            <span>œÄ</span>
        </div>
    </div>
</div>